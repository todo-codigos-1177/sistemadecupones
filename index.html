<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cupones coseguros</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="script.js" defer></script>
</head>

<body>
    <!-- Mensaje de bienvenida -->
    <div class="welcome" id="welcome-text">
        <h1>Generado de cupones</h1>
        <p>Tesoreria OSCHOCA</p>
    </div>

    <!-- Contenedor principal de formularios -->
    <div class="container hidden" id="forms-container">
        <!-- Formulario de inicio de sesión -->
        <div id="login" class="form-container active">
            <h2>Iniciar Sesión</h2>
            <form id="login-form">
                <label for="login-email">Email:</label>
                <input type="email" id="login-email" required placeholder="Ingresa tu email">
                <label for="login-password">Contraseña:</label>
                <input type="password" id="login-password" required placeholder="Ingresa tu contraseña">
                <button type="submit" class="btn-primary">Ingresar</button>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="barra-progreso"></div>
                </div>
                <div class="success-message"></div>
            </form>
            <p>
                <span class="link-button" onclick="showForm('recover')">¿Olvidaste tu contraseña?</span>
                <span class="link-button" onclick="showForm('register')">Registrarse</span>
            </p>
            <div class="google-register">
                <button class="btn-google-register" onclick="registerWithGoogle()">
                    <img src="/descarga.png" alt="Google Logo">
                     <span class="recommended">Recomendado</span>
                </button>
            </div>
        </div>

        <!-- Formulario de registro -->
        <div id="register" class="form-container" style="display: none;">
            <h2>Crear Cuenta</h2>
            <form id="register-form">
                <label for="register-firstname">Prestadora de servicio:</label>
                <input type="text" id="register-firstname" required placeholder="Ingresa el nombre de tu prestadora">
                <label for="register-lastname">Direccion:</label>
                <input type="text" id="register-lastname" required placeholder="Ingresa la direccion">
                <label for="register-phone">Teléfono:</label>
                <input type="tel" id="register-phone" required placeholder="Ejemplo: +54 11 1234-5678" pattern="^\+?[0-9\s-]+$">
                <label for="register-email">Email:</label>
                <input type="email" id="register-email" required placeholder="Ingresa tu email">
                <label for="register-password">Contraseña:</label>
                <input type="password" id="register-password" required placeholder="Crea una contraseña">
                <button type="submit" class="btn-primary">Registrarse</button>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="barra-progreso"></div>
                </div>
                <div class="success-message"></div>
            </form>
            <p>
                <span class="link-button" onclick="showForm('login')">Ya tengo una cuenta</span>
            </p>
        </div>

        <!-- Formulario de recuperación de contraseña -->
        <div id="recover" class="form-container" style="display: none;">
            <h2>Recuperar Contraseña</h2>
            <form onsubmit="event.preventDefault(); recoverPassword();">
                <label for="recover-email">Correo Electrónico:</label>
                <input type="email" id="recover-email" placeholder="Ingresa tu correo" required />
                <button type="submit">Enviar Enlace de Recuperación</button>
            </form>
            <p>
                <a href="javascript:void(0)" onclick="showForm('login')">Volver al Inicio de Sesión</a>
            </p>
        </div>
        
    </div>

    <script>
        // Función para alternar entre los formularios (Login, Registro, Recuperar contraseña)
        function showForm(formId) {
            // Ocultar todos los formularios
            document.querySelectorAll(".form-container").forEach((form) => {
                form.style.display = "none";
            });

            // Mostrar el formulario correspondiente
            document.getElementById(formId).style.display = "block";
        }

        // Mostrar el formulario de inicio de sesión al cargar la página
        document.addEventListener("DOMContentLoaded", () => {
            showForm('login');
        });
    </script>
</body>

</html>
